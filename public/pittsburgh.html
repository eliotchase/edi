<title>Eliot Deviation Index</title> 
<link rel=stylesheet href=style.css>
<ul><li><a href=index.html class=active>Home</a></li>
<li><a href=stops.html>Stop Listing</a></li> 
<li><a href=routes.html>Route Listing</a></li>
<li><a href=detailed.html>Route Detail</a></li>
<li><a href=stats.html>Statistics</a></li>
<li><a href=calculator.html>Calculator</a></li></ul> 
<h1>The Pittsburgh Adjustment</h1>

<p><i>This content originally appeared in Ben's blog "Based on Transit" in December 2022.</i></p>
<p>I often mention that the Eliot Deviation Index is the ratio between the distance and displacement of a transit route. While that is a basic explanation of what it is, it’s not the truest answer. The EDI actually measures the distance of the line not by the road or rail distance between each stop, but with only the straight-line distance between each stop. For the vast majority of bus routes, both measurements would come out exactly the same. There are still a number of routes where these measures may differ. In that case, which one would be more accurate? Why is there even a difference in the first place? Which is used officially?</p>
<p>First, we need a history lesson. The EDI was created on May 3, 2022. I hand-coded the calculator for it as well, and the easiest way to measure out a route (especially those on rails) is through the straight-line distance from stop to stop. In a number of these early cases, it was doubted whether my way of calculation was the best way to do so. Well, the MBTA’s Blue Book exists with everything that could be needed… and I only had about 300 stops in the database at that time.</p>
<p>However, the EDI grew over time. More agencies, more stops, more routes came through on a regular basis. In August, the database had 25 agencies and 50,000 stops. Today, the database has 70 agencies, 210,000 stops, and over 800 routes. There needed to be a consistent way to measure and calculate each EDI with any possible agency. Some suggested using an online mapping API, such as one from Google Maps. While it would work with everything, the projected growth and planned features of the calculator made this impossible, with dozens of calculations needed every time a route is plugged in. Turns out, the solution was right there from the start. We had the mathematical function right there. What may have initially been a decision done to make the coding easier, was now an official rule of the Eliot Deviation Index. Introducing the Pittsburgh Adjustment.</p>
<p>Why Pittsburgh? Besides that my friend lives there (hi Caleb!), Pittsburgh is known for its hilly and restrictive geography, leading to many routes not taking the straightest possible line, but still taking the most direct routing available. The Pittsburgh Adjustment means that the distance of the line will be measured as the sum of the straight-line distances between each of the stops. Effectively, this means that a route will not see a higher EDI for any route that has to take a longer route due to any geographic constraints, such as hills or bodies of water, which are all not at the control of the transit agency, eliminating any distance increases caused by these formations. Such constraints can be seen on Pittsburgh’s transit system, Pittsburgh Regional Transit (PRT, which was added to the EDI database in September 2022). Many of Pittsburgh’s bus routes have to take twistier routings due to the topography of the area, as well as where some of the infrastructure (such as the city’s three busways) is located. Measuring the road distance along a number of these routes will give a result a bit higher than what the EDI is with the Pittsburgh Adjustment applied. (Also, routes with restricted usage - busways, rails, etc. can’t fully be measured with mapping API, which would give driving directions.) Many cities - not just Pittsburgh - are in similar situations, while others are not. Each agency decides to plan differently, such as Chicago, where the flat landscape allows for bus routes to run along a straight corridor for miles on end. Not everywhere is the same, and that is why the Pittsburgh Adjustment exists. </p>
<p>So yeah, the calculation method isn’t changing. The supposed “error” is set in stone as the Pittsburgh Adjustment. There’s quite the reasoning behind it. That’s what made a lot of the extra features in the calculator doable, such as segments and rolling EDIs as a route progresses.</p>
